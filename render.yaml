services:
  - type: web
    name: kgf-gold-price-predictor
    env: python
    plan: free
    buildCommand: pip install -r requirements.txt
    startCommand: python -W ignore::SyntaxWarning run_backend.py
    envVars:
      - key: PORT
        value: 10000
      - key: ENVIRONMENT
        value: production
      - key: PYTHONWARNINGS
        value: "ignore::SyntaxWarning"
      - key: LOG_LEVEL
        value: INFO
      - key: CACHE_DURATION
        value: 3600
      - key: API_COOLDOWN
        value: 15
      - key: REALTIME_CACHE_DURATION
        value: 300
      - key: RATE_LIMIT_INITIAL_BACKOFF
        value: 300
      - key: RATE_LIMIT_MAX_BACKOFF
        value: 1800
      - key: AUTO_UPDATE_INTERVAL
        value: 7200
      - key: USE_POSTGRESQL
        value: "true"
      - key: CORS_ORIGINS
        value: "http://localhost:4000,https://kgf-gold-price-predictor.onrender.com"
      # News API keys for enhanced model (optional - set in Render Dashboard)
      # - key: NEWS_API_KEY
      #   sync: false  # Set manually in Render Dashboard
      # - key: ALPHA_VANTAGE_KEY
      #   sync: false  # Set manually in Render Dashboard
      # PostgreSQL connection details are auto-set when database is linked in Render
      # Or set manually in Render Dashboard â†’ Environment Variables
      # POSTGRESQL_HOST, POSTGRESQL_DATABASE, POSTGRESQL_USER, POSTGRESQL_PASSWORD, POSTGRESQL_PORT
